{% extends 'ratemy/base_bootstrap.html' %}
{% load staticfiles %}
{% load el_pagination_tags %}

{% block title_block %}
    {{category.name}}
{% endblock %}


{%block style_block%}

img {
    max-width: 100%;
    max-height: 100%;
}
.center{
    width:200px;
    margin:0 auto;
    text-align:left;
}

.div-img {
    max-width: 100%;
    max-height: 100%;
    margin: left;
    border-radius: 10%;
    text-align:right;

}

.image-cropper {
    width: 300px;
    height: 300px;
    position: relative;
    overflow: hidden;
    border-radius: 20%;
    display: inline-block;
}

.cat-img {
    display: inline;
    margin: 0 auto;
    max-width:100%;
    max-height:100%;
}

.outline{
 transition: 0.7s;
}
.outline:hover{
    box-shadow: 0 0 2px 4px powderblue;
}

.fade{
    opacity: 1;
}
h1{
    font-family: Palatino
}
p {
  margin: 0 auto;
  text-align: center;
}
{%endblock%}

#leftcolumn, #rightcolumn {
    border: 1px solid white;
    float: left;
    min-height: 450px;
    color: white;
}
#leftcolumn {
     width: 250px;
     background-color: #111;
}

#rightcolumn {
     width: 750px;
     background-color: #777;
}

{% block body_block %}



    <div>
        <a href="/category/{{category.slug}}/add_post">Add a page</a>
    <br>


    {% if category %}
        <h1>{{ category.name }}</h1>



        <ul>

        </ul>
        <div class="image-cropper"><img class="cat-img" src="{{MEDIA_URL}}{{category.image}}"></div>
        <p>Creator: <a href="{% url 'profile' category.author %}">{{category.author}}</a></p>
    <div class="search-container">
        <form  method="GET" action="">
            <input  type="text" placeholder="Search for a post.." name="search" value="{{ request.GET.search }}">
            <button type="submit"><i class="fa fa-search"></i></button>
        </form>


        <div>
	<strong id="like_count">{{ category.followers}}</strong> people like this category
	{% if user.is_authenticated %}
		<button id="likes" data-catid="{{category.id}}" class="btn btn-primary btn-sm" type="button">
			Like
		</button>
	{% endif %}
	</div>
    </div>

        {% if posts %}
            <ul>
            {% paginate posts %}
            {%for post in posts %}
                <div style="text-align:center;background-color:red;">
                    <a href="/ratemy/category/{{post.category.slug}}/{{post.slug}}">
                    <div class="outline"  style="width:100%;margin: 0 auto;padding: 10px;height:150px;margin: 20px 0;background-color:#F8F8F8"></a>
                    <a href = "/ratemy/category/{{post.category.slug}}/{{post.slug}}">{{ post.title }}</a>
                    <div style="height:100%;width:auto" id="leftcolumn"><img class="div-img" src="{{post.picture.url}}"></div>
                    <div id="rightcolumn" >
                        <p>{{post.author}}</p>
                        <p>{{post.created_date}}</p>
                        <p>{{post.likes}}</p>
                    </div>
                </div>
            {%endfor%}
            {% show_pages %}
            </ul>
        {%else%}
            <strong>No pages currently in category.</strong>
        {%endif%}
    {%else%}
        The specified category does not exist!
    {% endif %}
    </div>
{% endblock %}
